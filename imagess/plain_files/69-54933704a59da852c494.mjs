(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[69,10,124,"SendObjectWrapperCommon"],{"+zF7":function(e,t,n){var a=n("LqyK"),r=n("TN0d"),o=n("eOdZ"),i=n("G35+"),c=n("dwea"),s=n("mBfy");function l(){}Object.assign(l.prototype,{handleConnect(e,t,n){if(t&&!s.default.isLimitedLogin()){const r={success:function(a){const r={network:e,data:a};this._internalConnectNetwork(t,r,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?r.windowOptions="width=600,height=800":"instagram"===e?r.windowOptions=a.default.getWindowOptions(580,580):"etsy"===e?r.windowOptions=a.default.getWindowOptions(580,775):"youtube"===e&&(r.windowOptions=a.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,r)}else{const a={network:e};this._internalConnectNetwork(t,a,n)}},updateConnectStatus(){o.a.create("UserResource",{user_id:s.default.get("id"),username:s.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{const t=e.resource_response.data;s.default.set(t),r.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork(e,t,n){t?i.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const a=o.a.create("UserSocialNetworkResource",t);(e?a.callCreate():a.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case i.a.FACEBOOK:t="UserFacebookFriendsResource";break;case i.a.TWITTER:t="UserTwitterFriendsResource";break;case i.a.GOOGLE:t="UserGmailFriendsResource";break;case i.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},a=this._getResourceNameForNetworkFriends(e);if(!a)return;const r=o.a.create(a,n);r.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(r)},n=>{if(110===n.api_error_code)c.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;l.instance=function(){return d||(d=new l),d},t.a=l},"/X16":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a={USER_FOLLOW:"USER_FOLLOW"},r={USER_BLOCK:"USER_BLOCK"}},"/kAC":function(e,t,n){var a=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},"078/":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const a=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","RelatedProductsFeed","ShoppingSquareGridRelatedProducts","UserProfilePinGrid"],o=[...r,"ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridRelatedProductsMetadata","ProductPinsFeed","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],i=["BaseBoardPinGrid"]},"0S8y":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));var a=n("VBRM"),r=n("YWqT"),o=n("F08S");function i(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const a=n.split(/ (.+)/);return""===a[0]&&a.shift(),a.length>0&&(t.first_name=a[0]||""),a.length>1&&(t.last_name=a[1]||""),t}function c({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),a=Object(o.a)(-t,n),i=new Date;return!Object(r.a)(i,a)}function s({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,o=new Date,i=n?new Date(n):o,c=Object(a.a)(i,t);return Object(r.a)(c,o)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}function d(e){var t;return 502450===(null==e||null===(t=e[1000294])||void 0===t?void 0:t.experience_id)}},"0rqB":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("clxp"),i=n("n6mq");function c({children:e,group:t,isEligible:n,name:a,performsActivate:o}){let c=o?"#0f0":"#00f";return n||(c="#999"),r.a.createElement(i.e,{position:"relative"},e,r.a.createElement(i.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+c,borderRadius:5}}}),r.a.createElement(i.e,{position:"absolute",top:!0,left:!0,color:"lightGray"},a,": ",t))}var s=n("NVsV");const l=r.a.memo(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:i,group:s,overrideGroup:l=null,highlighted:d=!1,children:u})=>{Object(a.useEffect)(()=>{e&&n&&t&&t(i)},[]);const h=()=>"string"==typeof l?l:s,p=h(),m=`Experiment(${i}:${p})`,f=n&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,g={group:n?p:"",anyEnabled:f,customActivate:n&&!e?()=>n?t(i):"":null};return(t=>{const a=h();return d?r.a.createElement(c,{group:a,isEligible:n,name:i,performsActivate:e},t):t})(r.a.createElement(o.a,{name:m},u(g)))});function d(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:o,highlightedExperiment:i,setExperimentVisible:c}=Object(a.useContext)(s.c),d=n&&o&&"string"==typeof o[t]?o[t]:null,u=n&&(i===t||i===s.a);return Object(a.useEffect)(()=>{if(n)return c(t,!0),()=>c(t,!1)},[t,n]),r.a.createElement(l,Object.assign({},e,{overrideGroup:d,highlighted:u}))}},"1Nkp":function(e,t,n){var a=n("kmwA"),r=n("28DW");const o={scope:"profile email",client_id:a.a.settings.GPLUS_CLIENT_ID,app_package_name:a.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},i=e=>(Object(r.a)("unauth_web.gapi_auth2_load.success"),e()),c=e=>{Object(r.a)("unauth_web.init_google.sdk."+e)};t.a=(e=o)=>new Promise((t,n)=>{c("start"),window.gapi.auth2?(c("exists"),window.gapi.auth2.init(e).then(()=>i(t))):(c("load"),window.gapi.load("auth2",{callback:()=>{c("load_success"),window.gapi.auth2.init(e).then(()=>i(t))},onerror:()=>{c("load_error"),n()},timeout:15e3,ontimeout:()=>{c("load_timeout"),n()}}))})},"1inl":function(e,t,n){var a=n("Te9D"),r=n.n(a);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const a=r()(e);return o.showHtmlError(a,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)},t.a=o},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"4cpq":function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI"),r=n.n(a),o=n("n6mq");function i(e){const{children:t,display:n,id:a}=e;return r.a.createElement(o.e,{"data-test-id":a,display:n},t)}},"4sDh":function(e,t,n){var a=n("4uTw"),r=n("03A+"),o=n("Z0cm"),i=n("wJg7"),c=n("shjB"),s=n("9Nap");e.exports=function(e,t,n){for(var l=-1,d=(t=a(t,e)).length,u=!1;++l<d;){var h=s(t[l]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++l!=d?u:!!(d=null==e?0:e.length)&&c(d)&&i(h,d)&&(o(e)||r(e))}},"7pfs":function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI");function r({children:e}){const[t,n]=Object(a.useState)(!1),[r,o]=Object(a.useState)(!1),[i,c]=Object(a.useState)(!1);return e({active:t,focused:r,hovered:i,onBlur:()=>{o(!1),n(!1)},onFocus:()=>o(!0),onMouseDown:()=>n(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1),n(!1)},onMouseUp:()=>n(!1)})}},"8vQR":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("7w6Q"),c=n("eOdZ"),s=n("n6mq"),l=n("U4JR");function d(e){const{identifier:t,onHide:n}=e,a=()=>{c.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(l.b)(101,{component:t,element:n}),i.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return r.a.createElement(s.v,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),a()},accessibilityLabel:o.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},AHhP:function(e,t){const n={},a=function(e,t){let n=!1;return function(...a){n||(n=!0,e.apply(this,a),t&&t())}},r=function(e,t){e.__listeners=t},o=function(e,t){return!e.__listeners&&t&&r(e,[]),e.__listeners},i=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},c=function e(t,n,a){let r,o,i=[];if("string"==typeof t)for(r=t.split(" "),o=0;o<r.length;o+=1)i.push({name:r[o],callback:n,originalCallback:n,context:a});else"object"==typeof t&&t&&Object.keys(t).forEach(r=>{i=i.concat(e(r,t[r],a||n))});return i},s=function(e,t,n,a){const r=c(e,t,n);for(let o=0;o<r.length;o+=1)a(r[o])},l=function(e,t){const n=i(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const a=o(e,!0);for(let r=0;r<n.length;r+=1){const e=n[r];if(!e.callback)return;l(t,e),a.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return s(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const a=i(this,!1);if(void 0===a)return this;const r=Object.keys(a);let o=c(e,t,n);0===o.length&&(o=[{name:null,callback:t,context:n}]);for(let i=0;i<o.length;i+=1){const e=o[i];let t;t=e.name?[e.name]:r;for(let n=0;n<t.length;n+=1){const r=t[n],o=a[r];if(void 0!==o){const t=[];for(let n=0;n<o.length;n+=1){const a=o[n];(e.callback&&a.originalCallback!==e.callback&&a.callback!==e.callback||e.context&&a.context!==e.context)&&t.push(a)}a[r]=t}}}return this},n.trigger=function(e,...t){const n=i(this,!1);if(void 0===n)return this;let a,r,o;const c=e.split(" ");for(a=0;a<c.length;a+=1){let e=[];const i=n.all,s=c[a],l=n[s];if(void 0!==l)for(r=0;r<l.length;r+=1)if(o=l[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:t});else if(o.callback)throw new Error("Callbacks must be functions");if(void 0!==i)for(r=0;r<i.length;r+=1)if(o=i[r],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:[s].concat(t)});else if(o.callback)throw new Error("Callbacks must be functions");for(r=0;r<e.length;r+=1)o=e[r],o.fn.apply(o.context,o.args);e=[]}return this},n.once=function(e,t,n){return s(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=a(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,c(t,n,this)),this},n.listenToOnce=function(e,t,n){const r=c(t,n,this).map(t=>(t.originalCallback&&(t.callback=a(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,r),this},n.stopListening=function(e,t,n){const a=o(this,!1);let i,s,l;if(!a)return this;const d=[],u=void 0===t?void 0:c(t,n,this);for(s=0;s<a.length;s+=1)if(i=a[s],i.obj!==e&&e)d.push(i);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];i.event.name===t.name&&i.originalCallback===t.callback&&(e=!0)}e?i.obj.off(i.event.name,i.event.callback,i.event.context):d.push(i)}else i.obj.off(i.event.name,i.event.callback,i.event.context);return r(this,d),this},e.exports=n},BiGR:function(e,t,n){var a=n("nmnc"),r=n("03A+"),o=n("Z0cm"),i=a?a.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(i&&e&&e[i])}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return m}));var a=n("q1tI"),r=n.n(a),o=n("geGc"),i=n("Sp3T"),c=n("TqAR"),s=n("TgLd"),l=n("oVol"),d=n("U4JR"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=({children:e})=>e(Object(i.a)());class m extends a.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:a,userId:i,board:s,sendType:d,fullName:u,profileUrl:h,viewParameter:p,viewType:m,onExternalSend:f,showCaret:g,todayArticle:b}=this.props;let E={description:e,id:a,imageUrl:n,name:"",type:l.a.PIN,url:`/pin/${a}/`},v=l.a.PIN;switch(d){case"user":E={description:e,id:i,imageUrl:n,name:u,type:l.a.PINNER,url:h},v=l.a.USER;break;case"board":E=s&&{description:s.description,id:s.id,imageUrl:s.imageUrl,name:s.name,type:l.a.BOARD,url:s.url},v=l.a.BOARD;break;case"today_article":E=b&&{description:b.subtitle||"",id:b.id,imageUrl:n,name:b.title,type:l.a.TODAY_ARTICLE,url:Object(c.i)(b)},v=l.a.TODAY_ARTICLE}const y={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:v,sharedObject:E,viewParameter:p,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:r.a.createElement(o.default,y)}})}static makeSendShareButton(e){return t=>r.a.createElement(this,Object.assign({ref:t.shareButtonRef,Subject:e},t))}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(d.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:a}=this.props,{anchor:o,idealDirection:i,onDismiss:c,showCaret:l,children:d}=this.flyoutProps();return r.a.createElement("div",null,r.a.createElement(u.e,{ref:e=>{e&&(this.flyoutAnchor=e)}},r.a.createElement(p,null,t=>r.a.createElement(e,Object.assign({handleSendShareFlyoutButtonClick:e=>t(()=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),this.toggle()})},this.props)))),n&&(a?r.a.createElement(u.y,null,r.a.createElement(u.e,{zIndex:t?s.a:void 0,position:t?"absolute":void 0,top:!!t||void 0},r.a.createElement(u.r,{anchor:o,idealDirection:i,onDismiss:c,showCaret:l,size:"xl",positionRelativeToAnchor:!1},d))):r.a.createElement(u.r,{anchor:o,idealDirection:i,onDismiss:c,showCaret:l,size:"xl"},d)))}}h(m,"defaultProps",{idealDirection:"down",onClick:()=>{}})},ENhS:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n("1dBE");const{Provider:r,Consumer:o,useHook:i}=Object(a.c)("SurfaceContext",{surface:"Unknown"})},ESls:function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("0rqB"),i=n("pLLR");function c({activate:e,children:t,isEligible:n,name:a}){return r.a.createElement(i.b,null,i=>r.a.createElement(o.a,{activate:e,activateExperiment:e=>i.experiments.v2ActivateExperiment(e)||"",group:i.experiments.v2GetGroup(a)||"",isEligible:n,name:a},t))}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return g}));const a={YES:1,NO:2,NOT_SURE:3},r=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["US","GB","IE","NZ","AU","CA","FR","DE","AT","IT","ES","NL","BE","PT","CH","DK","SE","NO","FI"],i=["US","CA"],c=["AT","BE","CH","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","NL","NO","PL","PT","RO","SE","SK"],s=["US","CA"],l=e=>!!e&&i.includes(e.toUpperCase()),d=e=>!!e&&c.includes(e.toUpperCase()),u=e=>r.includes(e.toUpperCase()),h=e=>o.includes(e.toUpperCase()),p=e=>e.reduce((e,t)=>(e||0)+(t||0),0),m=(e,t,n)=>{const a={numDays:n};return t.forEach(t=>{if(e[t].length>=2*n){const r=p(e[t].slice(0,n)),o=p(e[t].slice(-n));a[t]={total:o,trend:r?(o-r)/r:0}}}),a},f=(e,t,n)=>{const a={numDays:n},r=e[n]||{},o=e[2*n]||{};return t.forEach(e=>{const t=r[e]||0,n=o[e]?o[e]-t:0;a[e]={total:t,trend:n?(t-n)/n:0}}),a},g=e=>!!e&&s.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,a=new Date(t);return a.setUTCDate(n),a}},FZoo:function(e,t,n){var a=n("MrPd"),r=n("4uTw"),o=n("wJg7"),i=n("GoyQ"),c=n("9Nap");e.exports=function(e,t,n,s){if(!i(e))return e;for(var l=-1,d=(t=r(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var p=c(t[l]),m=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(l!=u){var f=h[p];void 0===(m=s?s(f,p,h):void 0)&&(m=i(f)?f:o(t[l+1])?[]:{})}a(h,p,m),h=h[p]}return e}},FfPP:function(e,t,n){var a=n("idmN"),r=n("hgQt");e.exports=function(e,t){return a(e,t,(function(t,n){return r(e,n)}))}},"G35+":function(e,t,n){var a=n("AHhP"),r=n.n(a),o=n("1inl"),i=n("K316"),c=n("fZ0m"),s=n("YYM5"),l=n("Ye/N"),d=n("1Nkp"),u=n("dwea"),h=n("28DW");function p(){}let m;Object.assign(p.prototype,r.a),Object.assign(p.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(h.a)(`auth_web.social_connect.${e}.${Object(s.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let a,r;n&&(a=n.grantedScopes,a=a?a.split(","):[],r=n.userID);const o=a.find(e=>"email"===e),i={id:r};"connected"===e.status&&o?t.success(i):t.error(i),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},i.a)}):"gplus"===e||"google"===e?c.a.get(e=>{Object(d.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const a=t.windowOptions||n.getWindowOptions(),r=window.open("/connect/"+e+"/","",a);if(!r)return o.a.showError(l.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const i=u.a.setInterval(()=>{r.closed&&(clearInterval(i),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(i),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(p,{instance:()=>(m||(m=new p),m),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}),t.a=p},HGDa:function(e,t,n){n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return s}));const a=1e3,r=60*a,o=60*r,i=24*o,c=30*i,s=365*i},JZM8:function(e,t,n){var a=n("FfPP"),r=n("xs/l")((function(e,t){return null==e?{}:a(e,t)}));e.exports=r},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},K316:function(e,t,n){var a=n("mBfy");t.a=()=>a.default.isAuthenticated()&&!!a.default.attributes.facebook_id&&!a.default.isLimitedLogin()},LT60:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a);const o=()=>{},i=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function c({allowClickAndDrag:e,allowEsc:t,allowHlsVideoPlay:n,allowScroll:a,children:c}){const s=e=>function(e,t){t&&27===e.keyCode||i(e)}(e,t);return r.a.createElement("div",{onAbort:i,onAnimationEnd:i,onAnimationIteration:i,onAnimationStart:i,onBlur:o,onCanPlay:n?o:i,onCanPlayThrough:i,onChange:i,onClick:e?o:i,onCompositionEnd:i,onCompositionStart:i,onCompositionUpdate:i,onContextMenu:i,onCopy:i,onCut:i,onDoubleClick:i,onDurationChange:i,onEmptied:i,onEncrypted:i,onEnded:i,onError:i,onFocus:o,onInput:i,onInvalid:i,onKeyDown:s,onKeyPress:s,onKeyUp:s,onLoad:i,onLoadedData:i,onLoadedMetadata:i,onLoadStart:i,onMouseDown:i,onMouseEnter:i,onMouseLeave:i,onMouseMove:e?o:i,onMouseOut:i,onMouseOver:i,onMouseUp:e?o:i,onPaste:i,onPause:i,onPlay:i,onPlaying:i,onProgress:i,onRateChange:i,onScroll:a?o:i,onSeeked:i,onSeeking:i,onSelect:i,onStalled:i,onSubmit:i,onSuspend:i,onTimeUpdate:i,onTouchCancel:i,onTouchEnd:e?o:i,onTouchMove:e?o:i,onTouchStart:e?o:i,onTransitionEnd:i,onVolumeChange:i,onWaiting:i,onWheel:i},c)}},LqyK:function(e,t,n){n.r(t);var a=n("d7ng"),r=n("+NLT"),o=n("K316"),i=n("TvzZ"),c=n("Jr++"),s=n("JZM8"),l=n.n(s),d=n("eOdZ"),u=n("zwad");const h={open(e){const t=l()(e,h._validParams),n=h._getDialogType(e),r=h.generateFbRef(),s=e.object_type&&e.object_id&&"feed"===n;let p=Object(a.a)(e.path);const m=Object(c.a)();if(m.ptrf&&(p=u.a.appendQueryString(p,{ptrf:m.ptrf})),s&&(p=u.a.appendQueryString(p,{fb_ref:r})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let a="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(a+="&picture="+t.picture),t.name&&(a+="&title="+t.name),t.description&&(a+="&description="+t.description),t.caption&&(a+="&caption="+t.caption),window.open(encodeURI(a),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),Object(i.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let a,r=10;const o=setInterval(()=>{a=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!a&&r||(clearInterval(o),a&&h.executeMessengerCallback(a,e.callback)),r-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{s&&t&&!t.error_message&&d.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:r}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},o.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const a=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(a),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return r.a.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,a=t||400,r=window.screen.width,o=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+a+",left="+Math.round((r-n)/2)+",top="+(o>a?Math.round((o-a)/2):0)}};t.default=h},NVsV:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("q1tI");const r="__ALL__",o="__NONE__",i={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:o,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},c=n.n(a).a.createContext(i);t.c=c},RHD0:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var a=n("RNo4"),r=n("Ep0g"),o=(n("HGDa"),n("0S8y"));const i=(e,t)=>Object.keys(t).filter(n=>{const a=t[String(n)];return(a.pinner||{}).id===e.id&&!a.is_repin}).map(e=>t[e]),c=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),s=(e,t)=>!(!e||!e.isAuth)&&Object(r.f)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(o.e)({user:e})&&!Object(o.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(a.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},SNfw:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),r=n.n(a);function o({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const o=t||(a?"#333333":"#8E8E8E"),i=n||"#EFEFEF";return r.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{id:"Oval",fill:i,cx:"18",cy:"18",r:"18"}),r.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero"},r.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}},Sp3T:function(e,t,n){var a=n("aOj9");t.a=()=>{const{loginForMore:e,viewer:t}=Object(a.d)();return n=>{"AUTH"===t.type?n():e&&e.setVisible(!0)}}},TYy9:function(e,t,n){var a=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?a(e,1):[]}},Te9D:function(e,t,n){var a=n("/kAC"),r=n("dt0z"),o=/[&<>"']/g,i=RegExp(o.source);e.exports=function(e){return(e=r(e))&&i.test(e)?e.replace(o,a):e}},TqAR:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return b}));var a=n("F2ZA");n("n6mq");const r=408,o=16,i=2*(r+o),c=766,s=1.532,l=45,d=e=>{const{article_creator_user:t,display_type:n,feed_source:r,header_pin_id:o,id:i,title:c,video_pin:s}=e;switch(n){case 0:case 1:return c?Object(a.f)(r,c,i):"";case 8:return(null==t?void 0:t.username)?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return o?`/pin/${o}/`:"";case 2:return(null==s?void 0:s.id)?`/pin/${s.id}/`:"";default:return""}},u=e=>"todayarticle"===e.type,h=e=>"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type),p=e=>"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type)),m=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),f=e=>e.height/e.width,g=["736x","236x","170x"],b=e=>{for(const t of g)if(e.images[t])return e.images[t];return null}},TvzZ:function(e,t,n){n.r(t);var a=n("0K1N"),r=n("eOdZ"),o=n("kmwA"),i=n("37no");let c=!1;const s=(e,t,n="en-US")=>{Object(i.c)(Object(a.a)(n),i.a.FACEBOOK).then(()=>{const n=window.FB;n&&(c||(n.init({appId:o.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&s(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){r.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),c=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=s},UA0U:function(e,t,n){var a=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/a.f),month:Math.floor(n%a.f/a.d),day:Math.floor(n%a.d/a.a),hour:Math.floor(n%a.a/a.b),minute:Math.floor(n%a.b/a.c),milli:t,ms:n}}},WM6B:function(e,t,n){var a=n("q1tI");class r extends a.Component{constructor(e){var t,n,r;super(e),r={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.ref=a.createRef()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,a=this.ref&&this.ref.current;if(!a)return;const r=void 0===a.textContent?"innerText":"textContent",o=a[r];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(a,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:r}=this.state,o={maxWidth:e,maxHeight:t},i=n?{display:"inline",...o}:{...o};return r?a.createElement("div",{ref:this.ref,style:{...i,overflow:"hidden"}},this.props.children):a.createElement("div",{ref:this.ref,style:i},this.props.children)}}t.a=r},XGnz:function(e,t,n){var a=n("CH3K"),r=n("BiGR");e.exports=function e(t,n,o,i,c){var s=-1,l=t.length;for(o||(o=r),c||(c=[]);++s<l;){var d=t[s];n>0&&o(d)?n>1?e(d,n-1,o,i,c):a(c,d):i||(c[c.length]=d)}return c}},Y8Sn:function(e,t,n){n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f}));var a=n("BcL7");const r=e=>!!e&&!!e.video_list,o=({story_pin_data_id:e})=>!!e,i=e=>e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products.length>0,c=e=>!!e.promoter&&!e.is_downstream_promotion,s=e=>!!e.video_status&&5!==e.video_status,l=e=>!!e.creator_class,d=()=>["employees","enabled"].includes(a.a.getInstance().v2ActivateExperiment("unification_web_pin_click")),u=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:a}=t,r={...n,...a};return!!r[e]&&!r[e].paused},h=e=>["user","email","messages","deep_linking","user_tries","notifications","explore_article"].includes(e),p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:a}=t,r={...n,...a};for(const o in r){const{paused:t}=r[o];if(o!==e&&!t)return!1}return!0},m=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:a}=t,r={...n,...a};return r[e]&&r[e].currentTime},f=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},YYM5:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("+NLT");function r(){const e=a.a.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},ZVOf:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n("eOdZ"),r=n("/X16");function o(e,t){return a.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function i(e,t){return{type:r.a.USER_FOLLOW,payload:{id:e,value:t}}}function c(e,t=null){return n=>{o(e,t).callCreate().catch(()=>n(i(e,!1))),n(i(e,!0))}}function s(e,t=null){return n=>{o(e,t).callDelete().catch(()=>n(i(e,!0))),n(i(e,!1))}}},ZdHo:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n("eOdZ");function r(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function o(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function i(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function c(e){return{type:"CONVERSATION_CREATE",payload:e}}function s(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const l=(()=>{let e=0;return()=>e++})();function d(e,t,n){let r;const o=new Promise((i,s)=>{r=(r,o)=>{const{text:d,pinId:u,boardId:h,userId:p,didItId:m}=t,f=o();function g(){const t=a.a.create("ConversationMessagesResource",{conversation_id:e,text:d,pin:u,board:h,user:p,user_did_it_data:m,source:n}),o=""+l();r(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:d,sender:f.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:o,board:null,event_type:null,pin:u?f.pins[u]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,a,c;r((n=e,a=o,c=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:a,newMessageId:c}})),i()}).catch(s)}f.conversations.data[e]?g():a.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;r(c(t)),g()})},r.getPromise=()=>o});return r}const u=(e,t,n)=>r=>a.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;r(o(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZtJp:function(e,t,n){n.d(t,"a",(function(){return o}));var a=n("q1tI"),r=n.n(a);function o({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const o=t||(a?"#333333":"#8E8E8E"),i=n||"#EFEFEF";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{fill:i,cx:"18",cy:"18",r:"18"}),r.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero"},r.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},a9a9:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n("zpPL");const r=e=>a.a.instance.dispatch(function(e){return{type:"SPAMMY_CLICKTHROUGH_WARNING_SHOW",payload:e}}(e)),o=()=>a.a.instance.dispatch({type:"SPAMMY_CLICKTHROUGH_WARNING_DISMISS"})},d90F:function(e,t,n){n.d(t,"a",(function(){return a.a}));var a=n("ESls");n("q1tI"),n("0rqB"),n("pLLR")},fZ0m:function(e,t,n){const a={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=a},fZbY:function(e,t,n){const a=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>a.test(e)},fhk9:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const a={type:"OPEN_CONVERSATIONS_DROPDOWN"},r={type:"CLOSE_CONVERSATIONS_DROPDOWN"},o=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),i=e=>({openConversationsDropdown:()=>e(a),closeConversationsDropdown:()=>e(r)})},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return Ee}));var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("Ye/N"),c=n("FDmi"),s=n("oVol"),l=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,a=this.props.recipient||{},o="conversation_share_suggestion"===a.type,s=o?(a.users||[]).filter(e=>e.id!==n):[];return r.a.createElement(l.e,{paddingX:4,width:360},r.a.createElement(l.e,{alignItems:"center",display:"flex",paddingY:4},r.a.createElement(l.e,{height:48,paddingX:1,width:56},o?r.a.createElement(l.s,{collaborators:s.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):r.a.createElement(c.a,{name:a.full_name||a.email||" ",src:a.image_large_url})),r.a.createElement(l.e,{direction:"column",flex:"grow",marginStart:1},r.a.createElement(l.U,{weight:"bold"},o?s.map(e=>e.first_name||e.full_name).join(", "):a.full_name||a.email),r.a.createElement(l.U,{color:"gray",size:"sm"},o||a.username?a.username:i.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible"))),e?r.a.createElement(l.v,{accessibilityLabel:i.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null),r.a.createElement(l.e,null,r.a.createElement(l.e,null,r.a.createElement(l.V,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:i.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})),r.a.createElement(l.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4},r.a.createElement(l.f,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:i.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"}))))}}var h=Object(o.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),p=n("fZbY");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(...e){super(...e),m(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),m(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),m(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),m(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return r.a.createElement(l.e,{display:"flex",direction:"column",column:12,paddingX:4,width:360},r.a.createElement(l.e,{display:"flex",alignItems:"center",paddingY:4},r.a.createElement(l.e,{flex:"grow"},r.a.createElement(l.U,{weight:"bold"},i.a._("Send to","shareSheet.SendToEmail.label","Send to label"))),e?r.a.createElement(l.v,{accessibilityLabel:i.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),r.a.createElement(l.e,{display:"flex",direction:"column"},r.a.createElement(l.e,{paddingY:1,marginBottom:4},r.a.createElement(l.V,{id:"email",onChange:this.handleEmailValueChange,placeholder:i.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})),r.a.createElement(l.V,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:i.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),r.a.createElement(l.e,{paddingY:4,display:"flex",justifyContent:"center"},r.a.createElement(l.f,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:i.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(p.a)(this.state.emailValue)}))))}}var g=n("vvax");function b({email:e,isValid:t,onClick:n,showSendEmailText:a}){const o=t?i.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):i.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=a?Object(g.b)(i.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(g.b)(i.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return r.a.createElement(l.e,{marginBottom:4},r.a.createElement(l.T,{onTap:()=>{t&&n()}},r.a.createElement(l.e,{display:"flex"},r.a.createElement(l.e,{height:48,width:48},r.a.createElement(c.a,{name:e})),r.a.createElement(l.e,{paddingX:3,display:"flex",justifyContent:"center",direction:"column"},r.a.createElement(l.U,{weight:"bold",size:"lg"},s),r.a.createElement(l.U,{size:"sm",color:"gray"},o)))))}var E=n("iS6d"),v=n("w1Xl"),y=n("8vQR"),_=n("4cpq");function w(e){const{shouldShowViewChat:t,isSent:n,onClickSend:a,onViewConversation:o}=e;return r.a.createElement(l.e,{display:"flex"},t?r.a.createElement(l.T,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),o()}},r.a.createElement(l.e,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex"},r.a.createElement(l.U,{color:"darkGray",size:"md",truncate:!0,weight:"bold"},i.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")),r.a.createElement(l.e,{marginStart:1},r.a.createElement(l.u,{accessibilityLabel:i.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})))):r.a.createElement(_.a,{id:n?"sharesheet-viewchat-link":"sharesheet-send-button"},r.a.createElement(l.f,{color:n?"gray":"red",disabled:n,inline:!0,onClick:a,size:"lg",text:n?i.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):i.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})))}var C=n("U4JR");function S(e){var t,n,i;const{item:s,textFieldValue:d,onSendMessage:u,onShowSendDraft:h,onViewConversation:p,sentHistory:m}=e,[f,g]=Object(a.useState)(!1),[b,_]=Object(a.useState)(!1),[S,O]=Object(a.useState)(!1),k=s.id||"string"==typeof s.email&&s.email||"",x=k in m,j=""!==d,I=null!==(t=m[k])&&void 0!==t?t:"",L=Object(o.useSelector)(e=>e.viewer.id||""),T="conversation_share_suggestion"===s.type,P=T?(s.users||[]).filter(e=>e.id!==L):[],D=s.debug_reason&&s.debug_reason.readable_reason;let F="";"string"!=typeof s.full_name||s.full_name.match(/^\s*$/)?"string"!=typeof s.email||s.email.match(/^\s*$/)||(F=s.email):F=s.full_name;return f?r.a.createElement(l.e,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2},r.a.createElement(v.a,{identifier:null!==(n=s.id)&&void 0!==n?n:s.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:P.length>1})):r.a.createElement(l.e,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%"},r.a.createElement(l.T,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(s)}},r.a.createElement(l.i,{onMouseEnter:()=>{_(!(j||S&&x))},onMouseLeave:()=>_(!1)},r.a.createElement(l.e,{alignItems:"center",display:"flex"},r.a.createElement(l.e,{height:48,width:48},T?r.a.createElement(l.s,{collaborators:P.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):r.a.createElement(c.a,{accessibilityLabel:"",name:F,src:s.image_medium_url})),r.a.createElement(l.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%"},r.a.createElement(l.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow"},r.a.createElement(l.e,{marginBottom:1},r.a.createElement(l.U,{color:"darkGray",truncate:!0,weight:"bold"},T?P.map(e=>e.first_name||e.full_name).join(", "):F)),j&&D?r.a.createElement(l.U,{color:"gray",size:"sm"},D):"string"==typeof s.username&&r.a.createElement(l.U,{color:"gray",size:"sm"},s.username)),r.a.createElement(l.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},b&&r.a.createElement(l.e,{display:"flex",marginEnd:2},r.a.createElement(y.a,{identifier:null!==(i=s.id)&&void 0!==i?i:s.email,onHide:()=>g(!0),component:13029,element:11917})),r.a.createElement(w,{shouldShowViewChat:x,isSent:S,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,a=d?1044:1039;Object(C.b)(101,{component:13029,element:a,entered_query:d,result_index:n+1,rs:null===(t=s.debug_reason)||void 0===t?void 0:t.reason})})(),O(!0),u(s),_(!1)},onViewConversation:()=>p(I)})))))),r.a.createElement(E.a.Consumer,null,e=>{var t;return e?r.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0},r.a.createElement(l.t,{color:"blue",size:"sm"},null===(t=s.debug_reason)||void 0===t?void 0:t.reason)):null}))}var O=n("ANjH"),k=n("ZdHo"),x=n("fhk9"),j=n("w70y");var I=Object(O.compose)(Object(j.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(j.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:c,onShowImportContacts:s,sentHistory:d,value:u,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:m},paddingX:f}=e,g=Object(o.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(a.useEffect)(()=>{if(!u&&h){const e=g.length>0?7511:7512;Object(C.b)(e,{component:56,view:70,viewParameter:256})}},[h]);const E=Object(o.useDispatch)(),v=t=>{const{isFlyout:n,onHide:a}=e;!n&&a&&a(),(e=>{E(Object(k.e)(e))})(t),E(x.a)},y=g.map((e,t)=>{const a=`${t}-${u?"search":"suggestion"}`,o={item:e,idx:t,onSendMessage:n,onShowSendDraft:c,onViewConversation:v,sentHistory:d,textFieldValue:u};return r.a.createElement(S,Object.assign({key:a},o))}),_=0===g.length&&(""===u&&!h||""!==u&&!m);return r.a.createElement(l.e,null,r.a.createElement(l.e,{display:"flex",paddingX:f,position:"relative"},r.a.createElement(l.e,{"data-test-id":"sharesheet-search-user",width:"100%"},r.a.createElement(l.K,{accessibilityLabel:i.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:i.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u}))),r.a.createElement(l.e,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2},r.a.createElement(l.e,{paddingX:f},r.a.createElement(l.e,{paddingY:_?2:0},r.a.createElement(l.O,{accessibilityLabel:i.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:_})),r.a.createElement(l.e,null,y,u&&r.a.createElement(l.e,null,r.a.createElement(l.i,null,r.a.createElement(b,{email:u,isSend:!0,isValid:Object(p.a)(u),onClick:()=>c({email:u,full_name:u}),showSendEmailText:!1})),!_&&r.a.createElement(l.e,{width:"100%"},r.a.createElement(l.i,null,r.a.createElement(l.T,{onTap:s},r.a.createElement(l.e,{alignItems:"center",direction:"row",display:"flex"},r.a.createElement(l.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48},r.a.createElement(l.u,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})),r.a.createElement(l.e,{paddingX:3},r.a.createElement(l.U,{weight:"bold"},i.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list"))))))))))))})),L=n("d7ng"),T=n("ZtJp"),P=n("WM6B");var D=({text:e})=>r.a.createElement(l.U,{align:"center",size:"sm"},r.a.createElement(P.a,{maxWidthPx:128,maxHeightPx:50},e));var F=({iconSize:e,marginEnd:t,children:n})=>r.a.createElement(l.e,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24},n);const A=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var R=({onClick:e,iconColor:t,iconSize:n,backgroundColor:o,invitePath:c})=>{const[s,d]=Object(a.useState)(!1),u=Object(a.useRef)(null);return Object(a.useEffect)(()=>{A().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!A)return;new e(u.current,{text:()=>c}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[c]),r.a.createElement(F,{iconSize:n,marginEnd:!1},r.a.createElement(l.e,{ref:u},r.a.createElement(l.T,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)}},r.a.createElement(l.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},r.a.createElement(T.a,{backgroundColor:o,iconColor:t,size:n}))),r.a.createElement(D,{text:s?i.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):i.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})))},N=n("SNfw"),U=n("K316"),M=n("TvzZ");function B({size:e=48,iconColor:t,backgroundColor:n,grayscale:a=!1}){const o=t||(a?"#333333":"#8E8E8E"),i=n||"#EFEFEF";return r.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd"},r.a.createElement("circle",{fill:i,cx:"24",cy:"24",r:"24",stroke:"none"}),r.a.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:o},r.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),r.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),r.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),r.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),r.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),r.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),r.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),r.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}var G=n("v/Q4");function H({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:a,backgroundColor:o}){const c=Object(G.a)();return t&&[s.a.BOARD,s.a.PINNER,s.a.USER].includes(e.type)&&c.isAuth&&(e.id===c.id||c.isEmployee)?r.a.createElement(F,{key:"pincode",iconSize:a,marginEnd:!0},r.a.createElement(l.T,{fullWidth:!1,onTap:t},r.a.createElement(B,{backgroundColor:o,iconColor:n,size:a})),r.a.createElement(D,{text:i.a._("Pincode","Share via pincode","Share via pincode")})):null}var z=n("mBfy"),W=n("udob");const V="#EFEFEF",q="#333333";function Z({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",a=t?V:"#1877f2";return r.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e},r.a.createElement("title",null,"f_logo_RGB-Blue_1024"),r.a.createElement("g",{id:"surface1"},r.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),r.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})))}function Y({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",a=t?V:"#0DC2FF";return r.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"surface1"},r.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),r.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})))}function K({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",a=t?V:"#25d366";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1"},r.a.createElement("g",{id:"surface1"},r.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),r.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})))}var $=n("nGHF");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=48,Q="#111111",ee="#EFEFEF",te={backgroundColor:"#ffffff",border:"none",padding:0},ne=e=>{Object(M.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},U.a)};class ae extends a.Component{constructor(...e){super(...e),X(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),X(this,"mounted",!1),X(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(W.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),X(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||W.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),X(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case s.a.BOARD:return i.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case s.a.PIN:return i.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case s.a.PINNER:return i.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);W.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(L.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!z.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(C.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ne(()=>{W.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){ne(()=>{W.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(W.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){W.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return r.a.createElement(a.Fragment,null,r.a.createElement(l.e,{display:"flex",justifyContent:"around"},r.a.createElement(F,{iconSize:J,marginEnd:!0},r.a.createElement("button",{"aria-label":i.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:te,tabIndex:"-1"},r.a.createElement("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank"},r.a.createElement(K,{size:J}))),r.a.createElement(D,{text:i.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})),r.a.createElement(F,{iconSize:J,marginEnd:!0},r.a.createElement("button",{"aria-label":i.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:te},r.a.createElement(Z,{size:J})),r.a.createElement(D,{text:i.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})),r.a.createElement(F,{iconSize:J,marginEnd:!0},r.a.createElement("button",{"aria-label":i.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:te},r.a.createElement(Y,{size:J})),r.a.createElement(D,{text:i.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})),r.a.createElement(F,{iconSize:J,marginEnd:!1},this.renderEmail())),r.a.createElement(l.e,{display:"flex",paddingY:4},r.a.createElement(H,{backgroundColor:ee,iconColor:Q,iconSize:J,onCreatePincodeClick:t,sharedObject:e}),r.a.createElement(R,{key:"copylink",backgroundColor:ee,iconColor:Q,iconSize:J,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")})))}renderEmail(){return r.a.createElement(F,{key:"email",iconSize:J,marginEnd:!1},r.a.createElement(l.e,{display:"inlineBlock"},r.a.createElement("button",{"aria-label":i.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:te},r.a.createElement(N.a,{backgroundColor:ee,iconColor:Q,size:J}))),r.a.createElement(D,{text:i.a._("Email","Share via email","Share via email")}))}render(){const{sharedObject:e,paddingX:t}=this.props;return r.a.createElement(l.e,{paddingX:t},r.a.createElement(l.e,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center"},r.a.createElement(l.U,{size:"lg",weight:"bold"},this.getSendDisplayText(e.type))),r.a.createElement(l.e,{paddingX:2},this.renderShareOptions()))}}var re=Object(O.compose)(Object(o.connect)(({viewer:e})=>({viewer:e}),()=>({})),$.c)(ae),oe=n("7w6Q"),ie=n("eOdZ"),ce=n("M1Uz");function se(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var le=n("ENhS");const de=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var ue=Object(o.connect)(null,e=>({createConversation:t=>e(Object(k.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(a.useState)(!1),[o,c]=Object(a.useState)(null),[s,d]=Object(a.useState)({}),[u,p]=Object(a.useState)(""),[m]=Object(a.useState)((e=>"today_article"===e?i.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:g}=Object($.b)(),{surface:b}=Object(le.b)(),E=(t,a)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:a}=e,r=a.id;oe.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(C.b)(180,{element:276,objectId:r,conversation_id:t,pin_id:n})})(t,a)},v=e=>{oe.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&g(({onHide:e})=>r.a.createElement(ce.a,{color:"red",duration:5e3,onHide:e,text:t}))},y=async(t,n,a)=>{const{createConversation:r,sharedObject:o,sendType:i}=e,c=o.id,l={emails:n,user_ids:t,text:a,source:se(b)};l[i]=c;const u=ie.a.create("ConversationsResource",l);try{const e=await u.callCreate(),a=e&&e.resource_response.data;r(a),E(a.id,"pin"===i?c:null),t.length>0?d({...s,...de(t,a.id)}):d({...s,...de(n,a.id)})}catch(h){v(h)}},_=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,a)=>{const{sendMessage:r,sharedObject:o,sendType:i}=e;let c;switch(i){case"pin":c="pinId";break;case"board":c="boardId";break;case"did_it":c="didItId";break;case"user":case"pinner":c="userId"}const l=c?Object(k.g)(t,{text:n,[c]:o.id,source:se(b)}):void 0;l&&(r(l),l.getPromise().then(()=>{E(t,"pin"===i?o.id:null),d({...s,[t]:t})}).catch(e=>{v(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?y([],[t.email],n):y([t.id],[],n),Object(C.b)(101,{component:56,element:276})},w=()=>{n(!1),c(null)},{onCreatePincodeClick:S,onShowImport:O,sendType:x,sharedObject:j,isFlyout:L,onHide:T,onExternalSend:P}=e,D="email"===o?r.a.createElement(f,{initialTextValue:m,isFlyout:L,objectId:j.id,objectType:x,onCancelDraft:w,onHide:T,onSendMessage:_}):r.a.createElement(h,{initialTextValue:m,isFlyout:L,objectId:j.id,objectType:x,onCancelDraft:w,onHide:T,onSendMessage:_,recipient:"object"==typeof o?o:void 0});return t?D:r.a.createElement(l.e,{color:"white"},r.a.createElement(re,{onCreatePincodeClick:S,onEmailIconClick:()=>{n(!0),c("email")},onExternalSend:P,onHide:T,paddingX:4,sharedObject:j}),r.a.createElement(l.e,null,r.a.createElement(I,{isFlyout:L,onChange:({value:e})=>{p(e),Object(C.b)(4113,{component:13029,element:1043})},onHide:T,onSendMessage:_,onShowImportContacts:O,onShowSendDraft:e=>{n(!0),c(e)},paddingX:4,sentHistory:s,value:u})))})),he=n("TSYQ"),pe=n.n(he),me=n("+zF7");const fe=["facebook","google"];function ge(e){const t=pe()("sendShare",e.network),n=(a=e.network,o=e.email,"facebook"===a?i.a._("Friends who are on Pinterest"):"google"===a&&o&&-1!==o.indexOf("@gmail")?o:null);var a,o;return r.a.createElement("a",{onClick:e.onClick,role:"button"},r.a.createElement("div",{className:t},r.a.createElement("em",{className:"icon"}),r.a.createElement("div",{className:"networkInfo"},r.a.createElement("h4",{className:"title"},function(e){return"facebook"===e?i.a._("Facebook"):"twitter"===e?i.a._("Twitter"):"google"===e?i.a._("Google"):i.a._("Other")}(e.network)),n?r.a.createElement("div",{className:"subtitle"},n):null)))}function be({onBack:e}){const t=Object(G.a)(),n=t.isAuth?t.email:null,a=fe.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return r.a.createElement("div",{className:"SocialConnectPanel sendShare"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"backNav"},r.a.createElement("a",{onClick:e,role:"button"},r.a.createElement("span",{className:"icon"}),r.a.createElement("span",{className:"label"},i.a._("Back")))),r.a.createElement("div",{className:"prompt"},i.a._("Upload contacts from..."))),r.a.createElement("ul",{className:"socialConnectOptions"},a.map(e=>r.a.createElement("li",{style:{borderLeft:"none"},key:e},r.a.createElement(ge,{email:n,network:e,onClick:()=>function(e){me.a.instance().handleConnect(e,!0,{})}(e)})))))}function Ee({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:o,onHide:i,sendType:c,sharedObject:s,viewType:d,viewParameter:u}){const[h,p]=Object(a.useState)(!1),[m,f]=Object(a.useState)(!1);Object(a.useEffect)(()=>(Object(C.b)(7120,{objectId:s.id,view:d,viewParameter:u}),()=>{Object(C.b)(7121,{objectId:s.id,view:d,viewParameter:u});const e=m?7493:7492;Object(C.b)(e,{view:d,viewParameter:u})}),[]);const g=()=>{p(!0)},b=()=>{p(!1)},E=()=>{f(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return r.a.createElement("div",{className:e},r.a.createElement(be,{onBack:b}))})():r.a.createElement(l.e,{overflow:"hidden"},r.a.createElement(ue,{isFlyout:t,onCreatePincodeClick:n,onHide:i,onShowImport:g,onMessageSent:E,onExternalSend:o,sendType:c,sharedObject:s}))}},hgQt:function(e,t,n){var a=n("Juji"),r=n("4sDh");e.exports=function(e,t){return null!=e&&r(e,t,a)}},iS6d:function(e,t,n){var a=n("q1tI"),r=n.n(a);t.a=r.a.createContext(!1)},idmN:function(e,t,n){var a=n("ZWtO"),r=n("FZoo"),o=n("4uTw");e.exports=function(e,t,n){for(var i=-1,c=t.length,s={};++i<c;){var l=t[i],d=a(e,l);n(d,l)&&r(s,o(l,e),d)}return s}},nGHF:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n("1dBE");const{Provider:r,Consumer:o,useHook:i,HOC:c}=Object(a.a)("toastManagerContext")},qD10:function(e,t,n){var a=n("q1tI"),r=n.n(a),o=n("/MKj"),i=n("zwad"),c=n("ANjH"),s=n("Y8Sn"),l=n("z19Z"),d=n("EC67");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.Component{constructor(...e){super(...e),u(this,"state",{spamCheck:null}),u(this,"spamCheckExperimentGroup",null),u(this,"mounted",!1),u(this,"handleSpammyDomainCheck",()=>{const{external:e,location:t,pinId:n,pin:a,surface:r,to:o}=this.props;(e||i.a.isOffsiteUrl(o))&&a&&!Object(s.g)(a)&&Object(l.f)({location:t,pinId:n,surface:r})&&o&&Object(l.a)({isMounted:this.mounted,pin:a,location:t,spamCheckCallback:e=>this.setState({spamCheck:e}),href:o})}),u(this,"handleClick",e=>{const{auxData:t,external:n,focusOnBody:a,forceOnClick:r,history:o,internalNewTab:c,location:s,onClick:d,pin:u,pinId:h,shouldShowAltLinks:p,stopPropagation:m,to:f}=this.props;m&&e.stopPropagation();const g=n||i.a.isOffsiteUrl(f);Object(l.b)({isExternalLink:g,event:e,forceOnClick:r})||(e.nativeEvent.preventDefault(),d&&d(e),f&&!p&&(g?Object(l.c)({href:f,pinId:h,pin:u,location:s,auxData:t,spamCheck:this.state.spamCheck}):Object(l.d)({event:e,onHistoryChange:()=>{a&&Object(l.e)()},href:f,history:o,target:c?"blank":null})))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}render(){const{accessibilityLabel:e,children:t,className:n,"data-test-id":a,external:o,noFollow:i,setAnchorRef:c,style:s,tabIndex:l,target:d,to:u}=this.props;return r.a.createElement("a",{"aria-label":e,className:n,"data-test-id":a,href:u,onClick:this.handleClick,ref:c,rel:o||i?"nofollow":"",style:s,tabIndex:l,target:d?"_blank":null},t)}}t.a=Object(c.compose)(Object(o.connect)((function({pins:e},{pinId:t}){return{pin:t&&e&&e[t]}}),()=>({})),d.k)(h)},udob:function(e,t,n){var a=n("LqyK"),r=n("eOdZ"),o=n("d7ng"),i=n("4dcN"),c=n("zwad"),s=n("mBfy");const l={};l.open=function(e,t,n){const a=function(e,t){const n=window.screen.width,a=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(a>t?Math.round((a-t)/2):0)}(t,n);window.open(e,void 0,a)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,a=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),a=Math.max(a,0)),s.default.isAuthenticated()||(a=340),window.resizeBy(n,a)}(!1)};var d=l;const u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";i.a.trackEvent(t,"click");const n=u._getWindowUrl(e.tweet_path,e.tweet_text);d.open(n,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>c.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(o.a)(e):void 0,text:t||void 0})};var h=u;const p={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),a=e.invite_channel,o=null==e.invite_category?3:e.invite_category,i=e.object_id;return r.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:a},invite_code:t,object_id:i}).callCreate()},createAndLogShareInvite:e=>p.createShareInviteData(e).then(t=>(p._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,a=null==e.invite_category?3:e.invite_category,o=e.object_id;return r.a.create("CreateExternalInviteResource",{invite_type:{invite_category:a,invite_object:t,invite_channel:n},object_id:o}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))},logShareInvite(e,t){t&&p._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>p.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&a.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&p._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return p.createShareInviteData(e).then(n=>{const a=n.invite_url,r=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),a&&h.openDialog({tweet_path:a,tweet_text:o}),p._logShareInvite(e,r),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>p.createShareInviteData(e).then(t=>{const n=t.invite_url,r=t.invite_code;return n&&a.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&p._logShareInvite(e,r)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=p},w1Xl:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),r=n.n(a),o=n("Ye/N"),i=n("7w6Q"),c=n("eOdZ"),s=n("U4JR"),l=n("n6mq");function d(e){const{identifier:t,onUndoHide:n,isGroupChat:a}=e,d=async()=>{const a=c.a.create("ShareSuggestionsHideResource",{user_identifier:t});await a.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),i.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return r.a.createElement(l.e,{display:"flex"},r.a.createElement(l.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%"},r.a.createElement(l.U,{inline:!0,color:"gray"},a?o.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):o.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"))),r.a.createElement(l.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},r.a.createElement(l.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:o.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})))}},"xs/l":function(e,t,n){var a=n("TYy9"),r=n("Ioao"),o=n("wclG");e.exports=function(e){return o(r(e,void 0,a),e+"")}},z19Z:function(e,t,n){n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return b}));var a=n("TPPM"),r=n("eOdZ"),o=n("gxu6"),i=n("T0g9");var c={open(e,t,n,r,c){const s=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";o.b("offsite_"+s,l);const d={token:s+"-"+l,url:e,csr:void 0,pin:void 0,client_tracking_params:r,aux_data:c?JSON.stringify(c):void 0};t?d.pin=t:n&&(d.csr=n),Object(a.a)("/offsite/?"+Object(i.a)(d),!0)}},s=n("ajUs");var l=n("zwad"),d=n("a9a9"),u=n("078/");const h=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},p=({isExternalLink:e,event:t,forceOnClick:n})=>!e&&(t.metaKey||t.ctrlKey)&&!n,m=({location:e,pinId:t="",surface:n})=>{const a=Boolean(n),r=u.a.includes(n),o=e.pathname.includes(t||"");return!!(a&&!r||o)},f=async({isMounted:e,pin:t,location:n,spamCheckCallback:a,href:o})=>{const i=r.a.create("OffsiteLinkResource",{check_only:!0,client_tracking_params:Object(s.a)(t,n),pin_id:null==t?void 0:t.id,url:o}),c=await i.callGet({showError:!1});if(!(null==c?void 0:c.resource_response.error)&&e){const e=c.resource_response.data||{},{message:t,redirect_status:n,url:r}=e;a({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:r})}},g=({event:e,onHistoryChange:t,href:n,history:r,target:o})=>{const i=l.a.getUrlClass(n);i===l.a.UrlClass.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?Object(a.a)(n,"blank"===o):r&&i===l.a.UrlClass.SAME_ORIGIN&&(r.push(l.a.normalizeUrl(n)),t&&t({event:e}))},b=({href:e,pinId:t,pin:n,location:a,auxData:o,spamCheck:i})=>{"undefined"!=typeof window&&window.Windows?function({url:e,pinId:t,pin:n,location:a,auxData:o}){const i={check_only:!0,client_tracking_params:n?Object(s.a)(n,a):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(o)};r.a.create("OffsiteLinkResource",i).callGet().then(r=>{if(r&&r.resource_response&&!r.resource_response.error){const{resource_response:e}=r,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const r=Object(s.a)(n,a);c.open(e,t,null,r,o)}else c.open(e,t)})}({url:e,pinId:t,pin:n,location:a,auxData:o}):n?(({spamCheck:e,auxData:t,location:n,pin:a,pinId:r,href:o})=>{(null==e?void 0:e.blocked)?Object(d.b)(e):c.open(o,r,null,Object(s.a)(a,n),t)})({spamCheck:i,auxData:o,location:a,pin:n,pinId:t,href:e}):c.open(e,t)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/69-54933704a59da852c494.mjs.map